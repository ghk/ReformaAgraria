<div class="card text-center">
    <div class="card-header">
        <ul class="nav nav-tabs card-header-tabs">
            <li class="nav-item">
                <a class="nav-link active" href="#">Batas Desa</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Objek TORA</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Batas dan Objek</a>
            </li>
        </ul>
    </div>
    <div class="card-body">
        <div id="map" leaflet
             style="height: 561px; position: relative;"
             [leafletOptions]="options"
             [leafletCenter]="center"
             [leafletZoom]="zoom"
             (leafletMapReady)="onMapReady($event)">
        </div>
        <div id="upload-modal" class="modal fade" tabindex="-1" role="dialog" data-backdrop="static">
            <div class="modal-dialog modal-lg" role="document">
                <form class="form-horizontal" (ngSubmit)="uploadFile(model)" id="form-upload">
                    <div class="modal-content" style="border-radius: 0">
                        <div class="modal-header">
                            <h5 class="modal-title">Upload File</h5>
                            <button type="button" class="close" (click)="clearModal()" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">
                                <div class="row" style="padding-top:10px; padding-bottom:10px">
                                    <div class="col-md-6">
                                        <select class="form-control" (change)="onChangeUpload($event.target.value, 'kecamatan', $event.target.options[$event.target.selectedIndex].getAttribute('fkParentId'))">
                                            <option value="kecamatan">KECAMATAN</option>
                                            <option *ngFor="let kec of kecamatanU" value="{{kec.name}}" [attr.fkParentId]="kec.id">{{kec.name}}</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <select class="form-control" [disabled]="kecUpload == 'kecamatan'" (change)="onChangeUpload($event.target.value, 'desa', $event.target.options[$event.target.selectedIndex].getAttribute('fkParentId'))">
                                            <option value="desa">DESA</option>
                                            <option *ngFor="let d of desaU" value="{{d.name}}" [attr.fkParentId]="d.id">{{d.name}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row" style="padding-top:10px; padding-bottom:10px">
                                    <!--<div class="col-md-6">
                                        <input id="label" class="form-control" type="text" [(ngModel)]="model.name" name="name" placeholder="Nama">
                                    </div>-->
                                    <div class="col-md-6">
                                        <select class="form-control" [disabled]="desaUpload == 'desa'" (change)="onChangeUpload($event.target.value, 'tora', $event.target.options[$event.target.selectedIndex].getAttribute('fkToraObjectId'))">
                                            <option value="tora">OBJEK TORA</option>
                                            <option *ngFor="let t of toU" value="{{t.name}}" [attr.fkToraObjectId]="t.id">{{t.name}}</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <input id="file" accept=".zip,.rar,.7z" class="form-control" type="file" (change)="onChangeFile($event)" name="file" [disabled]="desaUpload == 'desa'">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-primary" data-backdrop="false"><i class="fa fa-repeat"></i>&nbsp;<i class="fa fa-save"></i>Upload</button>
                        </div>
                    </div>
                </form>
                <form class="form-horizontal" id="form-download">
                    <div class="modal-content" style="border-radius: 0">
                        <div class="modal-header">
                            <h5 class="modal-title">Download File</h5>
                        </div>
                        <div class="modal-body">
                            <div class="row" style="padding-top:10px; padding-bottom:10px">
                                <div class="col-md-6">
                                    <select class="form-control" (change)="onChangeDownload($event.target.value, 'kecamatan', $event.target.options[$event.target.selectedIndex].getAttribute('fkParentId'))">
                                        <option value="kecamatan">KECAMATAN</option>
                                        <option *ngFor="let kec of kecamatanD" value="{{kec.name}}" [attr.fkParentId]="kec.id">{{kec.name}}</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <select class="form-control" [disabled]="kecDownload == 'kecamatan'" (change)="onChangeDownload($event.target.value, 'desa', $event.target.options[$event.target.selectedIndex].getAttribute('fkParentId'))">
                                        <option value="desa">DESA</option>
                                        <option *ngFor="let d of desaD" value="{{d.name}}" [attr.fkParentId]="d.id">{{d.name}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row" style="padding-top:10px; padding-bottom:10px">
                                <div class="col-md-6">
                                    <select class="form-control" [disabled]="desaDownload == 'desa'" (change)="onChangeUpload($event.target.value, 'file', null)">
                                        <option value="desa">FILE</option>
                                        <option *ngFor="let f of tora" value="{{f}}_.zip">{{f}}_.zip</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <a class="btn btn-primary" data-backdrop="false" href="{{model.linkDownload}}"><i class="fa fa-repeat"></i>&nbsp;<i class="fa fa-save"></i>Download</a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="delete-modal" class="modal fade" tabindex="-1" role="dialog" data-backdrop="static">
        <div class="modal-dialog modal-lg" role="document">
            <form class="form-horizontal" (ngSubmit)="deleteOverlay(model)">
                <div class="modal-content" style="border-radius: 0">
                    <div class="modal-header">
                        <h5 class="modal-title">Apakah Anda Yakin Akan Menghapus {{model.label}} ? </h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary focus" data-backdrop="false" data-dismiss="modal"><i class="fa fa-save"></i> Batal</button>
                        <button type="submit" class="btn btn-danger" data-backdrop="false"><i class="fa fa-repeat"></i>&nbsp;<i class="fa fa-save"></i> Delete</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
